<html>
	<head>
		<title>Your Gee-Mail Account</title>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
    <script>
      window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser

		for(var i = 0; i < geemails.length; i++){
        	console.log(geemails[i].sender);
        	console.log(geemails[i].subject);
        	console.log(geemails[i].body);
        	console.log(geemails[i].date);


     	var senderElem = document.createElement("h5");
  		senderElem.className = "sender";
  		senderElem.innerHTML = geemails[i].sender;
  		document.body.appendChild(senderElem);
  
  		var subjectElem = document.createElement("p");
  		subjectElem.className = "subject";
  		subjectElem.innerHTML = geemails[i].subject;
  		senderElem.appendChild(subjectElem);

  		var dateElem = document.createElement("p");
  		dateElem.className = "date";
  		dateElem.innerHTML = geemails[i].date;
  		senderElem.appendChild(dateElem);

  		var bodyElem = document.createElement("p");
  		bodyElem.className = "body";
  		bodyElem.innerHTML = geemails[i].body;
  		senderElem.appendChild(bodyElem);


     	}

     	var messageBox = document.getElementsByClassName("sender");
		for(var i = 0; i < messageBox.length; i++){
  			messageBox[i].addEventListener("click", showMessage);
		}


		function showMessage(){
  
  		var messageItem = this.querySelectorAll(".body")[0];
  		if(messageItem.style.display === "none"){
    	messageItem.style.display = "block";
  		}else{
    	messageItem.style.display = "none";
  		}

		}

		var countElem = document.getElementById("count")
			countElem.innerHTML = "Inbox: " + geemails.length;

		function inboxCount(){
			var countElem = document.getElementById("count")
			countElem.innerHTML = "Inbox: " + geemails.length++;

		}

		setInterval(inboxCount, 2000);


			

		function emails (){

			var myNewMessage = getNewMessage();
				console.log(myNewMessage);
			
			var senderElem = document.createElement("h5");
  			senderElem.className = "sender";
  			senderElem.innerHTML = myNewMessage.sender;
  			document.body.appendChild(senderElem);
  
  			var subjectElem = document.createElement("p");
  			subjectElem.className = "subject";
  			subjectElem.innerHTML = myNewMessage.subject;
  			senderElem.appendChild(subjectElem);

  			var dateElem = document.createElement("p");
  			dateElem.className = "date";
  			dateElem.innerHTML = myNewMessage.date;
  			senderElem.appendChild(dateElem);

  			var bodyElem = document.createElement("p");
  			bodyElem.className = "body";
  			bodyElem.innerHTML = myNewMessage.body;
  			senderElem.appendChild(bodyElem);
		
			var messageBox = document.getElementsByClassName("sender");
			for(var i = 0; i < messageBox.length; i++){
  			messageBox[i].addEventListener("click", showMessage);
			}


			function showMessage(){
  
  			var messageItem = this.querySelectorAll(".body")[0];
  			if(messageItem.style.display === "none"){
    		messageItem.style.display = "block";
  			}else{
    		messageItem.style.display = "none";
  			}

			}

		}			
		
		setInterval(emails, 2000);
		
		
	};

    </script>
	</head>
	<body>
		<header>
			<h1 class="title">Gee-Mail</h1>
		</header>
	<div class="container" id="main">
		<nav>
  			<ul>
    			<h2><li><a id="count" class="button" href="#"></a></li></h2>
    			<h4><li><a href="#">Compose</a></li></h4>
    			<h4><li><a href="#">Sent</a></li></h4>
  				<h4><li><a href="#">Drafts</a></li></h4>
  				<h4><li><a href="#">Flagged</a></li></h4>
  				<h4><li><a href="#">Spam</a></li></h4>
  			</ul>
		</nav>	
	</div>
	</body>
</html>